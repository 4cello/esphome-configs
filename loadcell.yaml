substitutions:
    devicename:  loadcell

esphome:
  name: $devicename
  platform: ESP8266
  board: nodemcuv2
  build_path: build/$devicename

wifi:
  networks:
    - ssid: !secret ssid
      password: !secret wifi_password
  fast_connect: true
  
  manual_ip:
    # Set this to the IP of the ESP
    static_ip: 192.168.144.171
    # Set this to the IP address of the router. Often ends with .1
    gateway: 192.168.144.1
    # The subnet of the network. 255.255.255.0 works for most home networks.
    subnet: 255.255.255.0

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: "$devicename"
    password: !secret ap_password

captive_portal:

# Enable logging
logger:

ota:

mqtt:
    broker: !secret mqtt_broker 
    topic_prefix: esphome/$devicename
    username: !secret mqtt_username
    password: !secret mqtt_password


sensor:
  - platform: hx711
    name: "HX711 Value"
    dout_pin: D1
    clk_pin: D2
    gain: 128
    update_interval: 1s
